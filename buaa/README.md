# 北京航空航天大学招生历年分数数据抓取工具

这是一个用于抓取北京航空航天大学历年招生分数数据的工具。该工具使用 Puppeteer 模拟浏览器访问北航招生网站，通过筛选不同的省份、年份、科类和录取类型来获取完整的历年分数数据。

## 功能特点

- 支持抓取全国31个省份数据
- 支持筛选不同年份、科类和录取类型
- 自动处理分页和动态加载内容
- 分省份保存数据，方便分批处理
- 提供测试版和生产版两种运行模式
- 输出格式化的JSON文件，便于后续分析

## 安装

1. 确保已安装 Node.js (建议 v16.0.0 或更高版本)

2. 克隆项目或创建目录结构

3. 安装依赖：
   ```bash
   cd buaa
   npm install
   ```

## 使用方法

### 测试版（仅抓取北京、上海、广东三省数据）

```bash
node browser_scraper.js
```

### 生产版（抓取全国所有省份数据）

```bash
node production_scraper.js
```

## 数据格式

抓取的数据将以JSON格式保存，每条记录包含以下字段：

```json
{
  "学校": "北京航空航天大学",  // 学校名称
  "年份": "2023",            // 录取年份
  "省市": "北京",            // 生源省份
  "科类": "综合改革",        // 高考科类
  "类型": "普通",            // 录取类型
  "最低分": "680",           // 最低录取分数
  "平均分": "685",           // 平均录取分数
  "控制线": "580"            // 省控制线
}
```

## 输出文件

数据将保存在 `output` 目录下：

1. `buaa_admission_scores.json` - 所有数据合并文件（每行一个JSON记录）
2. `buaa_admission_scores.json.pretty` - 格式化的所有数据（方便阅读）
3. `buaa_admission_scores.json.{省份}` - 按省份分开的数据文件（每行一个JSON记录）
4. `buaa_admission_scores.json.{省份}.pretty` - 按省份分开的格式化数据

## 项目结构

```
buaa/
├── browser_scraper.js     # 测试版爬虫（限定少数省份）
├── production_scraper.js  # 完整版爬虫（所有省份）
├── package.json           # 依赖管理
├── README.md              # 项目说明文档
└── output/                # 数据输出目录（运行后生成）
```

## 注意事项

1. 运行脚本前确保网络连接正常
2. 爬取过程可能需要较长时间，特别是生产版爬虫
3. 如遇到网络问题导致数据不完整，可以重新运行脚本
4. 脚本会自动创建 `output` 目录用于保存数据
