# 北京交通大学高考录取数据爬虫

这个项目用于爬取北京交通大学(BJTU)的高考历年录取数据，并将数据保存为JSON格式。

## 功能特点

- 支持爬取多年份、多省份的录取数据
- 识别不同校区（校本部、本部中外、威海校区等）
- 识别不同计划类型（普通类、艺术类、民委专项等）
- 提取并保存专业组/科目类/单设志愿信息（如物理组、文史、不限组等）
- 同时保存录取概况和分专业录取情况

## 输出数据格式

每条记录包含以下字段：

```json
{
  "学校": "北京交通大学",
  "校区": "校本部/本部中外/威海校区/威海中外",
  "年份": "2023/2024",
  "计划类型": "普通类/艺术类/民委专项/高校专项/国家专项",
  "省市": "北京/上海/陕西等",
  "科类": "综合改革/理工/文史/艺术等",
  "专业": "专业名称（录取概况中为空）",
  "最低分": "最低录取分数",
  "最高分": "最高录取分数",
  "最低分排名": "最低分排名",
  "专业组/科目类/单设志愿": "物理组/文史/不限组等"
}
```

## 项目结构

- `browser_scraper.js`: 适用于测试的爬虫，只爬取指定的省份（北京、上海、陕西）
- `production_scraper.js`: 生产环境的爬虫，爬取所有省份的数据
- `output/`: 输出目录
  - `bjtu_admission_scores.json`: 所有数据
  - `bjtu_admission_scores.json.pretty`: 格式化后的所有数据
  - `bjtu_admission_scores.json.{省份}`: 按省份分割的数据
  - `bjtu_admission_scores.json.{省份}.pretty`: 格式化后的省份数据

## 使用方法

### 安装依赖

```bash
npm install puppeteer
```

### 运行测试爬虫（只爬取北京、上海、陕西）

```bash
node browser_scraper.js
```

### 运行生产爬虫（爬取所有省份）

```bash
node production_scraper.js
```

## 专业组/科目类/单设志愿识别

本爬虫通过多种方式提取专业组/科目类/单设志愿信息：

1. 优先从专业组选择器中获取
2. 从页面内容中通过正则表达式识别
3. 根据科类自动推断（如综合改革→物理组，理科→理工，文科→文史）
4. 从表格中的专业组列提取

这样确保即使在页面结构有变化的情况下，也能准确获取相关信息。
